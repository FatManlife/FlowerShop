//Auth 
CREATE TABLE auth(
    id SERIAL PRIMARY KEY,
    phone VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL
)

//Customers
CREATE TABLE customers(
    id SERIAL PRIMARY KEY,
    name VARCHAR(255),
    email VARCHAR(255),
    auth_id INT NOT NULL REFERENCES auth(id) ON DELETE CASCADE
)

//Products
CREATE TABLE products(
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description TEXT NOT NULL,
    category VARCHAR(255) NOT NULL,
    price REAl NOT NULL,
    image TEXT  
)

//Carts
CREATE TABLE carts(
    id SERIAL PRIAMRY KEY,
    customer_id INT NOT NULL REFERENCES customers(id) ON DELETE CASCADE
)

//Cart_items
CREATE TABLE cart_items(
    id SERIAL PRIAMRY KEY,
    quantity INT NOT NULL,
    cart_id INT NOT NULL REFERENCES carts(id) ON DELETE CASCADE
    product_id INT NOT NULL REFERENCES products(id) ON DELETE CASCADE
)

//Subscriptions
CREATE TABLE subscriptions(
    id SERIAL PRIMARY KEY,
    price NUMERIC NOT NULL,
    name VARCHAR(255) NOT NULL,
    description TEXT NOT NULL,
    shipping_id INT REFERENCES shipping(id) ON DELETE CASCADE
    img TEXT
)

//Customer_gift_cards
CREATE TABLE Customer_gift_cards(
    id SERIAL PRIAMRY KEY,
    customer_id INT NOT NULL REFERENCES customers(id) ON DELETE CASCADE
    gift_card_id INT NOT NULL REFERENCES gift_cards(id) ON DELETE CASCADE
)

//Gift_cards
CREATE TABLE gift_cards(
    id SERIAL PRIAMRY KEY,
    name VARCHAR(255) NOT NULL,
    discount REAL NOT NULL,
    status BOOLEAN  NOT NULL
)

//Order_items
CREATE TABLE order_items(
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    price NUMERIC NOT NULL,
    quantity INT NOT NULL,
    order_id INT NOT NULL REFERENCES orders(id) ON DELETE CASCADE 
)

//Orders
CREATE TABLE orders(
    id SERIAL PRIMARY KEY,
    customer_id INT NOT NULL REFERENCES customers(id) ON DELETE CASCADE,
    created_at DATE NOT NULL,
    total_amount NUMERIC NOT NULL
)

//Payments
CREATE TABLE payments(
    id SERIAL PRIAMRY KEY,
    name VARCHAR(255) NOT NULL,
    price REAL NOT NULL
)

//Shipping
CREATE TABLE shipping(
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    price REAL NOT NULL
)

//Subscription_plans
CREATE TABLE subscriptions_plans(
    id SERIAL PRIMARY KEY,
    quantity INT NOT NULL,
    customer_id INT NOT NULL REFERENCES customers(id) ON DELETE CASCADE,
    subscription_id INT NOT NULL REFERENCES subscriptions(id) ON DELETE CASCADE
)

//Querys
INSERT INTO payments (name, price) VALUES
('Visa', 2.50),
('Mastercard', 2.50),
('PayPal', 3.00),
('Apple Pay', 2.00),
('Google Pay', 2.00);

INSERT INTO shipping (name, price) VALUES
('Standard Delivery (3-5 days)', 25.99),
('Express Delivery (1-2 days)', 49.90),
('Overnight Delivery', 79.50),
('Pickup Point Delivery', 15.00),
('Free Shipping (Orders over 50€)', 0);

INSERT INTO gift_cards (name, discount, status)
VALUES 
    ('Holiday Special', 15.0, true),
    ('New Year Bonus', 20.0, true),
    ('Birthday Gift', 10.0, true),
    ('Black Friday', 30.0, false),
    ('Summer Sale', 25.0, true);

INSERT INTO products (name, description, category, price, img)
VALUES
    ('Rose Elegance', 'A bouquet of 15 premium red roses wrapped in satin paper.', 'Flowers', 49.99, ''),
    ('Spring Harmony', 'Mixed tulips in bright spring colors.', 'Flowers', 39.50, ''),
    ('Sunflower Joy', 'A cheerful bouquet of 7 large sunflowers.', 'Flowers', 29.99, ''),
    ('Lavender Dreams', 'Aromatic lavender stems arranged with soft greenery.', 'Flowers', 34.75, ''),
    ('Pink Romance', 'Soft pink roses combined with baby’s breath.', 'Flowers', 44.90, ''),
    ('Orchid Grace', 'Elegant white orchids arranged in a minimalistic style.', 'Flowers', 59.99, ''),
    ('Autumn Glow', 'Chrysanthemums, roses, and orange accents for a warm look.', 'Flowers', 42.50, ''),
    ('Peony Deluxe', 'A luxurious bouquet of vibrant peonies.', 'Flowers', 69.99, ''),
    ('Wild Meadow Mix', 'A bouquet of wildflowers for a natural rustic look.', 'Flowers', 31.99, ''),
    ('White Purity', 'White roses, lilies, and eucalyptus.', 'Flowers', 54.90, '');

INSERT INTO subscriptions (price, name, descritpin, shipping_id, img)
VALUES
    (
        45,
        'Classic',
        'Free Delivery. Best for a budget. Glass vase with first delivery. Save up to 25%.',
        5,
        ''
    ),
    (
        65,
        'Seasonal',
        'Free Delivery. Best seasonal selections. Glass vase with first delivery. Luxury candle with your first delivery. Save up to 28%.',
        5,
        ''
    ),
    (
        95,
        'Luxe',
        'Free Delivery. Premium arrangement. Premium vase with first delivery. Luxury candle with your first delivery. Save up to 30%.',
        5,
        ''
    );
    
INSERT INTO products (name, description, category, price, img) VALUES
('Classic Ceramic Vase', 'Elegant white ceramic vase for home decor.', 'vase', 25.50, NULL),
('Glass Flower Vase', 'Transparent glass vase perfect for fresh flowers.', 'vase', 18.00, NULL),
('Vintage Porcelain Vase', 'Decorative porcelain vase with vintage design.', 'vase', 32.00, NULL),
('Minimalist Cylinder Vase', 'Simple and stylish cylinder vase.', 'vase', 22.00, NULL),
('Handmade Clay Vase', 'Artisan clay vase with rustic finish.', 'vase', 28.50, NULL),
('Colorful Mosaic Vase', 'Vase with colorful mosaic pattern.', 'vase', 35.00, NULL),
('Tall Floor Vase', 'Large floor vase for living room decoration.', 'vase', 55.00, NULL),
('Small Bud Vase', 'Tiny vase perfect for single flowers.', 'vase', 12.00, NULL),
('Geometric Vase', 'Modern vase with geometric shapes.', 'vase', 30.00, NULL),
('Marble Effect Vase', 'Vase with elegant marble pattern.', 'vase', 40.00, NULL),
('Oval Ceramic Vase', 'Oval-shaped ceramic vase in neutral tones.', 'vase', 27.00, NULL),
('Hand-Painted Vase', 'Vase hand-painted with floral designs.', 'vase', 38.00, NULL),
('Textured Glass Vase', 'Glass vase with textured surface.', 'vase', 24.50, NULL),
('Blue Porcelain Vase', 'Classic blue porcelain vase.', 'vase', 33.00, NULL),
('Modern Metal Vase', 'Sleek metal vase for contemporary homes.', 'vase', 29.00, NULL),
('Rustic Wooden Vase', 'Decorative vase made of carved wood.', 'vase', 31.00, NULL),
('Mini Succulent Vase', 'Small vase for succulents and cacti.', 'vase', 15.00, NULL),
('Round Ceramic Vase', 'Round vase suitable for any interior.', 'vase', 26.50, NULL),
('Pastel Color Vase', 'Soft pastel-colored vase for decoration.', 'vase', 23.00, NULL),
('Handcrafted Stone Vase', 'Stone vase handcrafted by artisans.', 'vase', 45.00, NULL),('Lavender Scented Candle', 'Relaxing lavender aroma candle.', 'scented candles', 12.00, NULL),
('Vanilla Bean Candle', 'Sweet vanilla scented candle.', 'scented candles', 10.50, NULL),
('Citrus Burst Candle', 'Fresh citrus fragrance for energizing atmosphere.', 'scented candles', 11.00, NULL),
('Rose Blossom Candle', 'Romantic rose-scented candle.', 'scented candles', 13.00, NULL),
('Ocean Breeze Candle', 'Refreshing ocean breeze aroma.', 'scented candles', 12.50, NULL),
('Cinnamon Spice Candle', 'Warm cinnamon and spice fragrance.', 'scented candles', 14.00, NULL),
('Jasmine Night Candle', 'Soft jasmine fragrance for evenings.', 'scented candles', 13.50, NULL),
('Eucalyptus Candle', 'Invigorating eucalyptus aroma.', 'scented candles', 11.50, NULL),
('Pumpkin Pie Candle', 'Cozy pumpkin scent for fall.', 'scented candles', 12.00, NULL),
('Sandalwood Candle', 'Earthy sandalwood aroma candle.', 'scented candles', 14.50, NULL);

flower_shop_db=# DELETE FROM shippings
;
DELETE 5
flower_shop_db=# ALTER TABLE shippings ADD COLUMN phone VARCHAR(255) NOT NULL;
ALTER TABLE
flower_shop_db=# ALTER TABLE shippings ADD COLUMN delivery_date DATE NOT NULL;
ALTER TABLE
flower_shop_db=# ALTER TABLE shippings ADD COLUMN delivery_time TIME NOT NULL;
ALTER TABLE
flower_shop_db=# ALTER TABLE shippings ADD COLUMN apartament_nr VARCHAR(255) NOT NULL;
ALTER TABLE
flower_shop_db=# ALTER TABLE shippings ADD COLUMN Street VARCHAR(255) NOT NULL;
ALTER TABLE



flower_shop_db=# DELETE FROM payments ;
DELETE 5
flower_shop_db=# ALTER TABLE payments DROP COLUMN name;
ALTER TABLE
flower_shop_db=# ALTER TABLE payments ADD COLUMN card_number VARCHAR(255) NOT NULL;
ALTER TABLE
flower_shop_db=# ALTER TABLE payments ADD COLUMN month_year varchar(7) NOT NULL;
ALTER TABLE
flower_shop_db=# ALTER TABLE payments ADD COLUMN CVV varchar(3);
ALTER TABLE
flower_shop_db=# ALTER TABLE payments DROP COLUMN price;
ALTER TABLE
flower_shop_db=# ALTER TABLE orders ADD COLUMN payment_id INTEGER;
ALTER TABLE
flower_shop_db=# ALTER TABLE orders ADD COLUMN shipping_id INTEGER;
ALTER TABLE
flower_shop_db=# ALTER TABLE orders ADD COLUMN gift_card_id INTEGER;
ALTER TABLE
flower_shop_db=# ALTER TABLE orders       
ADD CONSTRAINT fk_orders_gift_card
FOREIGN KEY (gift_card_id)
REFERENCES customer_gift_cards (id)
ON DELETE SET NULL;
ALTER TABLE
flower_shop_db=# ALTER TABLE public.orders
ADD CONSTRAINT fk_orders_payment
FOREIGN KEY (payment_id)
REFERENCES public.payments (id)
ON DELETE SET NULL;
ALTER TABLE
flower_shop_db=# ALTER TABLE public.orders
ADD CONSTRAINT fk_orders_shipping
FOREIGN KEY (shipping_id)
REFERENCES public.shippings (id)
ON DELETE SET NULL;
ALTER TABLE
flower_shop_db=# ALTER TABLE public.orders
ALTER COLUMN gift_card_id SET NOT NULL;
ALTER TABLE
flower_shop_db=# ALTER TABLE public.orders
ALTER COLUMN payment_id SET NOT NULL;
ALTER TABLE
flower_shop_db=# ALTER TABLE public.orders
ALTER COLUMN shipping_id SET NOT NULL;
ALTER TABLE

